<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ginga: External API</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ginga
   &#160;<span id="projectnumber">1.0</span>
   </div>
   <div id="projectbrief">The Ginga iTV middleware</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('extapi.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">External API </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="autotoc_md4"></a>
%Ginga as an NCL %Player</h1>
<p>Libginga external API is the library public interface. It can used by application programmers to build iTV players that reproduce NCL files. An NCL (Nested Context Language) file is an XML file that specifies an interactive multimedia presentation. For more information about Ginga (the standard) and NCL (the language) see <a href="http://ginga.org.br">http://ginga.org.br</a> and <a href="http://ncl.org.br">http://ncl.org.br</a>.</p>
<p>Along with libginga, the Ginga distribution comes with four programs that use libginga external API to play NCL files:</p>
<ol type="1">
<li>src/ginga.cpp: A <a href="https://www.gtk.org/">GTK+</a>-based command-line player.</li>
<li>src/ginga-qt.cpp: A <a href="https://www.qt.io/">Qt</a>-based command-line player.</li>
<li>src/ginga-gl.cpp: An experimental command-line player based on <a href="https://www.libsdl.org/">SDL</a> and <a href="https://www.opengl.org/">OpenGL</a>.</li>
<li>src-gui/ginga-gtk.cpp: A full-fledged GUI player based on <a href="https://www.gtk.org/">GTK+</a></li>
</ol>
<h1><a class="anchor" id="autotoc_md5"></a>
External API Overview</h1>
<p>Libginga external API consists of a single header file, <a class="el" href="ginga_8h.html" title="The libginga API.">ginga.h</a>, containing the class <a class="el" href="classGinga.html" title="Ginga handle.">Ginga</a>. A <a class="el" href="classGinga.html" title="Ginga handle.">Ginga</a> object represents an NCL player (also called <em>formatter</em>). Multiple <a class="el" href="classGinga.html" title="Ginga handle.">Ginga</a> instances can coexist within the same program. The external API is fully reentrant. All its methods are non-blocking and should be called in the same thread. (If multiple threads are used, the caller must ensure that only one thread at a time executes in the same <a class="el" href="classGinga.html" title="Ginga handle.">Ginga</a> object.)</p>
<p>To play an NCL file, after creating a <a class="el" href="classGinga.html" title="Ginga handle.">Ginga</a> object using <a class="el" href="classGinga.html#a148b8b7f547316fe54f72083d8abf9fa" title="Creates a new Ginga object.">Ginga::create</a>, the program must call <a class="el" href="classGinga.html#a3b3731f4fe3d22156205c6f2525da0cd" title="Starts the presentation of an NCL file.">Ginga::start</a> with the path of the file. The <a class="el" href="classGinga.html#a3b3731f4fe3d22156205c6f2525da0cd" title="Starts the presentation of an NCL file.">Ginga::start</a> call parses the given file and bootstraps the presentation. When the call returns, the presentation is assumed to be at time 0. From this point on, the program that is using libginga should:</p>
<ol type="1">
<li>Capture the keys pressed by the user and send them to the presentation via <a class="el" href="classGinga.html#afc7a744785bbba1833dff2c98cce3b0e" title="Sends key event to presentation.">Ginga::sendKey</a>.</li>
<li>From time to time, advance the presentation time by sending ticks via <a class="el" href="classGinga.html#a0020c15c05ed7e099c69b717354bdc2f" title="Sends tick event to presentation.">Ginga::sendTick</a>.</li>
<li>Whenever necessary, draw the latest frame of the presentation via <a class="el" href="classGinga.html#a23077db645f97e94e23e135b6f7539e7" title="Draws the latest frame of the presentation on Cairo context.">Ginga::redraw</a>.</li>
</ol>
<p>The program can use <a class="el" href="classGinga.html#a9e6656e6b426a002c9e666d573ed904c" title="Stops the presentation.">Ginga::stop</a> to stop the presentation or use <a class="el" href="classGinga.html#a7f004921deb3d254246c55f5efa1f094" title="Gets Ginga object state.">Ginga::getState</a> to detect its natural end (some NCL presentations eventually terminate). After the <a class="el" href="classGinga.html" title="Ginga handle.">Ginga</a> object is stopped, the previous presentation state is lost and the same object can be used to play another file.</p>
<p>Some control options (<a class="el" href="structGingaOptions.html" title="Ginga control options.">GingaOptions</a>) can be set on the <a class="el" href="classGinga.html" title="Ginga handle.">Ginga</a> object when it is created. Most of these options can also be changed later via Ginga::setOption* calls. The set options are preserved even after the presentation is stopped. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
